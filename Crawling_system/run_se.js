/**
 * Main script to execute multiple search queries using various search engine crawlers.
 *
 * This script imports different search engine crawlers and uses them to perform searches
 * for a predefined list of queries. The search results are collected and saved in JSON files
 * based on the respective search engines.
 *
 */

// Import necessary modules and classes
import StartPage_Crawler from "./crawlers/startpage_crawler.js"
import Google_Crawler from "./crawlers/google_crawler.js"
import DuckDuckGo_Crawler from "./crawlers/duckduckgo_crawler.js"
import Bing_Crawler from "./crawlers/bing_crawler.js"
import Qwant_Crawler from "./crawlers/qwant_crawler.js"
import fs from 'fs'

const unique = (value, index, self) => {
    return self.indexOf(value) === index
  }  


// Define class references and result file names for each search engine
const class_by_se = {
    "bing" : Bing_Crawler,
    "ddg" : DuckDuckGo_Crawler,
    "google" : Google_Crawler,
    "startpage" : StartPage_Crawler,
    "qwant" : Qwant_Crawler
}


const result_file_by_se = {
    "bing" : "files/bing.json",
    "ddg" :  "files/ddg.json", 
    "google" :  "files/google.json",
    "startpage" :  "files/startpage.json",
    "qwant" :  "files/qwant.json",
}

/**
 * Get an instance of the appropriate crawler based on the specified search engine.
 *
 * @param {string} query - The search query to be performed.
 * @returns {Crawler} - An instance of the appropriate crawler class.
 */
function get_crawler_object(query) {
    const se = process.argv[2]
    let res = new class_by_se[se](query)
    return res

}

/**
 * Get the result file name for the specified search engine.
 *
 * @returns {string} - The name of the result file.
 */
function get_result_file_name() {
    const se = process.argv[2]
    return result_file_by_se[se]

}

// Main asynchronous function
(async () => {

    // Define query lists (gaming, toys, cosmetics, electronic, appliance, movies_200, movies_400)
    let trending_topics = ["Sustainable fashion","Keto diet recipes","Cryptocurrency investing","Remote work solutions","Home gym equipment","TikTok dance tutorials","Online dating apps","Solar energy panels","Virtual reality gaming","Mental health support","DIY home improvement","Plant-based recipes","NFT art","5G smartphones","Travel deals","Sustainable living tips","Streaming services","Yoga for beginners","CBD products","Electric cars","Smart home technology","Outdoor camping gear","Online education courses","Home office furniture","Pet adoption","E-commerce platforms","Food delivery services","Mindfulness meditation","Podcasts","Vintage fashion","Crossfit workouts","Stock trading platforms","DIY skincare routines","Vegan diet plans","Home automation systems","Sustainable gardening","Virtual cooking classes","Digital art software","Mobile app development","Green energy solutions","Mountain biking trails","Freelance writing jobs","Plant-based diet books","Personal finance apps","Online language courses","Sustainable travel destinations","Subscription boxes","Organic beauty products","Electric bikes","Parenting tips","Cryptocurrency wallets","Home fitness equipment","Virtual interior design services","Streaming devices","Eco-friendly cleaning products","Music streaming services","Homebrewing kits","DIY home decor","Ethical fashion brands","Meditation apps","Home solar power","Gaming laptops","Sustainable packaging","Digital marketing courses","Green architecture","Outdoor camping recipes","Online tutoring services","DIY woodworking projects","Sustainable transportation","Virtual event platforms","Smart kitchen appliances","Vegan meal delivery","Personal development books","Renewable energy sources","Smart thermostats","DIY gardening ideas","Green beauty routines","Cryptocurrency news","Home office organization","Pet grooming products","Sustainable farming","Virtual fitness classes","Video editing software","Mobile game development","Eco-friendly fashion brands","Natural skincare products","Electric scooters","Childcare services","Cryptocurrency exchanges","Home fitness apps","Virtual travel experiences","Smart home security","Solar water heaters","E-bike accessories","Parenting books","Sustainable architecture","Camping gear reviews","Freelance graphic design","DIY fashion projects","Ethical jewelry brands","Meditation retreats","Solar panel installation","Electric skateboards","Cryptocurrency predictions","Home office ergonomics","Pet grooming services","Sustainable fashion bloggers","Virtual wine tasting","Mobile app design","Eco-friendly home cleaning","Sustainable living blogs","Cryptocurrency regulations","Home workout challenges","Pet training tips","Sustainable gardening tools","Virtual personal training","Indie music artists","Renewable energy technology","Virtual team-building activities","Smart lighting systems","Plant-based protein","Personal finance podcasts","Online art classes","Green commuting","DIY woodworking tools","Ethical fashion marketplaces","Mindfulness apps","Solar power financing","Electric car charging stations","Parenting support groups","Cryptocurrency analysis","Home office decor","Pet insurance plans","Virtual team-building games","Video game development courses","Outdoor camping gear rentals","Freelance content writing","DIY fashion tutorials","Ethical beauty products","Mindfulness workshops","Solar energy financing options","Electric bike tours","Parenting advice columns","Cryptocurrency market analysis","Home workout video tutorials","Pet-friendly travel tips",/* Add more topics here... */];
    let trending_topics_2 = ["Sustainable architecture","Indoor gardening tips","Home office inspiration","Cryptocurrency trading bots","Healthy meal prep","Virtual reality concerts","Mindfulness for kids","DIY eco-friendly gifts","Smart home energy management","Vegan skincare routines","Remote coding jobs","Blockchain technology news","Sustainable fashion marketplaces","Home workout accessories","Digital art galleries","Outdoor photography techniques","Eco-friendly travel experiences","Cryptocurrency hardware wallets","DIY upcycled furniture","Gourmet cooking classes","Sustainable urban planning","Virtual reality therapy","Mindfulness for stress relief","Green tech innovations","Vintage home decor","Electric scooter maintenance","Parenting hacks","Cryptocurrency tax guidelines","Home office plants","Pet-friendly apartment ideas","DIY natural cleaning products","Smart home voice assistants","Plant-based protein sources","Online yoga retreats","Renewable energy investments","Indie game development","Virtual pet adoption","Cryptocurrency trading signals","DIY fashion upcycling","Sustainable fashion collaborations","Home fitness challenges","Digital art tutorials","Camping food recipes","Eco-conscious fashion brands","Mindfulness apps for sleep","Solar-powered gadgets","Electric bike commuting","Parenting advice podcasts","Cryptocurrency lending platforms","Home office organization hacks","Pet grooming video tutorials","Sustainable agriculture practices","Virtual fitness coaching","Indie music concerts","Renewable energy education","Smart home entertainment","Plant-based dessert recipes","Online painting classes","Green transportation initiatives","DIY recycled jewelry","Ethical fashion subscription boxes","Mindfulness retreat destinations","Solar panel technology advancements","Electric skateboard tricks","Cryptocurrency payment solutions","Home fitness challenges for beginners","Pet-friendly vacation spots","Sustainable fashion exhibitions","Virtual wine and cheese pairings","Indie film screenings","Renewable energy policy updates","Smart home security tips","Plant-based cooking competitions","Personal finance investment strategies","Online sculpture workshops","Green building materials","DIY home composting","Ethical fashion market reports","Mindfulness for productivity","Solar energy storage solutions","Electric bike tours in nature","Parenting support webinars","Cryptocurrency trading courses","Home office ergonomics","Pet grooming product reviews","Sustainable fashion influencers","Virtual cooking classes for kids","Indie music discovery playlists","Renewable energy research projects","Smart home climate control","Plant-based diet documentaries","Personal finance budgeting tools","Online pottery classes","Green home insulation","DIY natural skincare remedies","Ethical jewelry design workshops","Mindfulness for anxiety relief","Solar-powered water pumps","Electric scooter safety tips","Parenting advice books","Cryptocurrency trading bots","Home office lighting ideas","Pet grooming certification courses","Sustainable fashion awards","Virtual gardening workshops","Indie music production tips","Renewable energy grants for homeowners","Smart home automation trends","Plant-based restaurant reviews","Online woodworking tutorials","Green energy certifications","DIY sustainable fashion tips","Ethical home decor DIY","Mindfulness meditation for beginners","Solar energy policy updates","Electric bike maintenance guides","Parenting support groups online","Cryptocurrency investment strategies","Home office productivity hacks","Pet grooming business startups","Sustainable fashion online courses","Virtual fitness competitions","Indie music merchandise","Renewable energy job opportunities","Smart home renovation ideas","Plant-based protein supplements","Online art exhibitions","Green transportation options","DIY recycled art projects","Ethical beauty product reviews","Mindfulness practices for kids","Solar panel installation tips","Electric skateboard maintenance","Parenting advice columns","Cryptocurrency market analysis tools","Home workout video tutorials","Pet-friendly travel essentials"];
    let trending_topics_3 = ["Ethical jewelry brands online", "Mindfulness meditation techniques", "Solar energy tax credits", "Electric skateboard reviews 2023", "Parenting advice for teenagers", "Cryptocurrency investment strategies", "Home office organization hacks", "Pet grooming product reviews", "Sustainable fashion influencers", "Virtual cooking classes for kids", "Indie music discovery playlists", "Renewable energy research projects", "Smart home climate control", "Plant-based diet documentaries", "Personal finance budgeting tools", "Online pottery classes", "Green home insulation", "DIY natural skincare remedies", "Ethical jewelry design workshops", "Mindfulness for anxiety relief", "Solar-powered water pumps", "Electric scooter safety tips", "Parenting advice books", "Cryptocurrency trading bots", "Home office lighting ideas", "Pet grooming certification courses", "Sustainable fashion awards", "Virtual gardening workshops", "Indie music production tips", "Renewable energy grants for homeowners", "Smart home automation trends", "Plant-based restaurant reviews", "Online woodworking tutorials", "Green energy certifications", "DIY sustainable fashion tips", "Ethical home decor DIY", "Mindfulness meditation for beginners", "Solar energy policy updates", "Electric bike maintenance guides", "Parenting support groups online", "Cryptocurrency investment strategies", "Home office productivity hacks", "Pet grooming business startups", "Sustainable fashion online courses", "Virtual fitness competitions", "Indie music merchandise", "Renewable energy job opportunities", "Smart home renovation ideas", "Plant-based protein supplements", "Online art exhibitions", "Green transportation options", "DIY recycled art projects", "Ethical beauty product reviews", "Mindfulness practices for kids", "Solar panel installation tips", "Electric skateboard maintenance", "Parenting advice columns", "Cryptocurrency market analysis tools", "Home workout video tutorials", "Pet-friendly travel essentials", "Best smartphone deals 2023", "Affordable vacation packages", "Top online clothing stores", "Cheap flight booking", "Latest gaming laptops", "Home gym equipment reviews", "Organic skincare products", "Crypto trading platforms", "Virtual reality headset reviews", "Car insurance quotes", "New York City tourist attractions", "Healthy meal delivery services", "Best budget laptops", "Buy vintage fashion online", "Home improvement DIY tutorials", "Plant-based diet benefits", "Collectible NFTs for sale", "5G smartphone comparison", "Luxury travel destinations", "Free meditation apps", "Podcast hosting services", "Eco-friendly home cleaning products", "Music streaming subscriptions", "Brew your own beer kit", "Online education platforms", "Pet adoption agencies near me", "Designer fashion discounts", "Cryptocurrency market trends", "Smart home security systems", "Solar energy installation cost", "Mountain biking trails near me", "Freelance writing jobs remote", "Homemade vegan recipes", "Stock trading strategies", "DIY skincare remedies", "Electric car models 2023", "Green home building materials", "Camping gear essentials", "Online language courses reviews", "Home office furniture deals", "Pet training tips for puppies", "Art classes online", "Renewable energy incentives", "Smart thermostat installation", "Gardening tools for beginners", "Fitness classes online", "Video editing software comparison", "Mobile app development courses", "Eco-friendly fashion brands list", "Natural skincare routine steps", "Best laptop deals 2023", "Last-minute vacation packages", "Online fashion boutiques", "Discounted flight tickets", "Gaming laptop reviews", "At-home workout equipment", "Natural skincare remedies", "Cryptocurrency trading tips", "Affordable VR headsets", "Auto insurance quotes", "Tourist attractions in Paris", "Healthy meal delivery subscriptions", "Budget-friendly laptops", "Vintage clothing online shops", "DIY home renovation ideas", "Benefits of a vegetarian diet", "Rare NFT collectibles", "Upcoming 5G smartphones", "Exotic travel destinations", "Guided meditation apps", "Popular podcast platforms", "Eco-friendly cleaning supplies", "Music streaming app subscriptions", "Craft beer brewing kits", "Online learning platforms", "Adopting a rescue pet", "Designer fashion sales", "Crypto market analysis", "Smart home surveillance systems", "Solar panel installation companies", "Best mountain biking trails", "Remote freelance writing opportunities", "Plant-based meal planning", "Stock trading apps", "Natural skincare product recipes", "New electric vehicle models", "Green home renovation ideas", "Camping gear recommendations", "Language learning courses online", "Ergonomic home office furniture", "Puppy training techniques", "Online art classes for beginners", "Renewable energy financing options", "Smart home lighting solutions", "Gardening tools and equipment", "Virtual fitness trainers", "Video editing software reviews", "Mobile app development tools", "Ethical fashion retailers", "Mindfulness and relaxation techniques", "Solar energy system costs", "Electric scooter buying guide", "Parenting tips for toddlers", "Crypto wallet reviews", "Home workout routines", "Pet grooming services near me", "Sustainable fashion brands online", "Virtual cooking lessons for beginners", "Indie music streaming playlists", "Renewable energy technology news", "Smart home entertainment systems", "Plant-based dessert ideas", "Online pottery classes for kids", "Green transportation solutions", "DIY recycled art projects for sale", "Ethical beauty product recommendations", "Mindfulness exercises for stress", "Solar panel maintenance tips", "Electric skateboard safety gear", "Parenting support communities", "Cryptocurrency trading courses online", "Home office design inspiration", "Pet grooming product comparisons", "Sustainable fashion events 2023", "Virtual gardening tutorials", "Indie music production software", "Renewable energy job listings", "Smart home security camera reviews", "Plant-based diet for athletes", "Online art exhibitions and sales", "Green commuting options", "DIY recycled fashion projects", "Ethical home decor stores", "Mindfulness apps for relaxation", "Solar energy policy changes", "Electric bike maintenance tutorials", "Parenting advice for new parents", "Cryptocurrency market insights", "Home workout challenges for advanced", "Pet-friendly travel accommodations", "Latest smartphone reviews", "All-inclusive vacation deals", "Online shoe stores", "Discounted airline tickets", "Best gaming laptops 2023", "Effective home workouts", "Natural skincare routines for acne", "Cryptocurrency trading strategies", "Affordable VR gaming headsets", "Auto insurance comparison", "Things to do in Tokyo", "Healthy meal prep plans", "Top budget-friendly laptops", "Vintage fashion boutiques online", "DIY home decor ideas", "Vegan diet benefits", "Unique NFT collectibles for sale", "Upcoming 5G phones comparison", "Off-the-beaten-path travel destinations", "Stress-relief meditation apps", "Top podcast hosting services", "Eco-friendly cleaning products online", "Music streaming app reviews", "Craft beer brewing equipment", "Best online learning platforms", "Adopting a rescue dog", "Designer clothing discounts", "Cryptocurrency market trends 2023", "Home security systems reviews", "Solar panel installation cost estimate", "Great mountain biking trails near me", "Remote freelance writing jobs", "Plant-based meal recipes", "Stock trading platforms comparison", "Natural skincare product recommendations", "Latest electric car models", "Green home renovation tips", "Camping gear essentials checklist", "Language learning courses reviews", "Ergonomic home office setup", "Puppy training classes near me", "Online art classes for beginners", "Renewable energy financing options", "Smart home lighting solutions", "Essential gardening tools and equipment", "Virtual fitness instructor programs", "Video editing software options", "Mobile app development courses online", "Ethical fashion brands list", "Mindfulness techniques for relaxation", "Solar energy system financing", "Electric scooter safety tips and gear", "Parenting tips for teenagers", "Best crypto wallet options", "Effective home workout routines", "Pet grooming services reviews", "Sustainable fashion brands to watch", "Virtual cooking classes for beginners", "Indie music streaming services", "Renewable energy technology updates", "Smart home entertainment setups", "Plant-based dessert recipes for parties", "Online pottery classes for kids and adults", "Green transportation alternatives", "DIY recycled art projects for sale online", "Ethical beauty products online", "Mindfulness practices for stress relief", "Solar panel maintenance guidelines", "Electric skateboard safety tips and gear", "Parenting advice for first-time parents", "Cryptocurrency market analysis tools", "Home workout challenges for advanced fitness enthusiasts", "Pet-friendly travel accommodations and destinations", "Smartphone deals online", "Family vacation packages 2023", "Fashion shopping websites", "Last-minute flight discounts", "Top gaming laptop brands", "Effective home workouts for beginners", "Natural skincare remedies for glowing skin", "Cryptocurrency trading courses", "Best VR gaming headsets 2023", "Auto insurance providers", "Tourist attractions in London", "Healthy meal delivery reviews", "Affordable laptops for students", "Vintage clothing shops near me", "DIY home renovation inspiration", "Benefits of a vegan diet", "Unique NFT artwork for sale", "Comparison of 5G smartphones", "Hidden travel gems", "Mindfulness meditation for anxiety", "Top podcast platforms 2023", "Eco-friendly cleaning product brands", "Music streaming app comparisons", "Craft beer brewing ingredients", "Learn online with e-learning platforms", "Adopting a rescue cat", "Designer fashion online outlets", "Cryptocurrency market news", "Home security system installation", "Solar panel installation companies near me", "Mountain biking trails in California", "Remote freelance writing opportunities 2023", "Plant-based meal ideas for weight loss", "Comparison of stock trading apps", "Natural skincare products for sensitive skin", "Latest electric car models 2023", "Green home renovation ideas on a budget", "Camping gear essentials for beginners", "Best online language courses", "Ergonomic home office furniture setup", "Puppy training tips and tricks", "Online art classes for advanced learners", "Renewable energy investment options", "Smart home lighting automation", "Must-have gardening tools for enthusiasts", "Virtual fitness instructor certification", "Video editing software features", "Mobile app development tools and resources", "Ethical fashion brands online", "Mindfulness techniques for stress management", "Solar energy system financing options", "Electric scooter safety gear recommendations", "Parenting tips for toddlers and preschoolers", "Best cryptocurrency wallets", "Effective home workout plans", "Pet grooming services near me reviews", "Sustainable fashion brands for men and women", "Virtual cooking classes for couples", "Indie music streaming platforms", "Renewable energy breakthroughs", "Smart home entertainment ideas", "Plant-based dessert recipes for special occasions", "Online pottery classes for hobbyists", "Green transportation methods in urban areas", "DIY recycled art projects for sale online", "Ethical beauty product brands", "Mindfulness practices for mental clarity", "Solar panel maintenance tips and tricks", "Electric skateboard safety guidelines", "Parenting advice for raising teenagers", "Cryptocurrency market analysis software", "Home workout challenges for advanced fitness levels", "Pet-friendly vacation rentals and hotels"]

    let clothing_queries = ["clothing", "clothes", "outfit", "apparel", "attire", "clothing stores", "dress code", "baby clothes", "clothing near me", "clothing store", "clothes near me", "outfit ideas", "clothing stores near me", "dress shirts", "mens clothing", "womens clothing", "plus size clothing", "shein clothing", "kids clothes", "men clothing", "maternity clothes", "summer clothes", "apparel near me", "vintage clothing", "4th of july outfit", "frankly clothing", "forney isd dress code", "rhode clothing", "dr romanelli clothing", "p.a.m. clothing", "cav empt", "cav empt clothing", "liam hodges", "martine rose", "sidemen clothing", "imran potato vans", "chnge clothing", "braindead brand", "dress fabric manufacturers", "noah clothing", "noah ny", "oak clothing brand", "brain dead clothing", "janelle monae bet awards 2022 dress", "grailed clothing", "lrg clothing", "4th of july clothes", "4th of july outfit", "fourth of july outfit", "oak clothing"]
    let gaming_queries = ["games", "game", "gaming", "epic", "epic games", "xbox", "pc", "best games", "switch games", "video games", "xbox games", "nintendo", "free games", "ps4", "steam", "gaming pc", "nintendo games", "game pass", "ps5", "nintendo switch", "ps4 games", "pc games", "steam games", "nintendo switch games", "fortnite", "", "epic games fall guys", "emulator games com", "steam summer sale 2022 games", "https //www.epic games.com/activate", "fall guys", "https //amazon.com/us/code", "games with gold july 2022", "july ps plus games", "ps plus games july 2022", "arcadegeddon", "epic games.com/activate", "rockstar games gta 6", "epic games/activate", "jason brassard video games", "sonic origins", "epic games activate", "epic games account", "epic games login", "epic games support", "epic games sign in", "epic", "epic games", "ico game", "epicgames", "norco game"]
    let toys_queries = ["toy", "toys", "toy store", "dog toys", "kids toys", "toy hauler", "toys near me", "baby toys", "toy car", "amazon toys", "rose toy", "toys for kids", "toy box", "walmart toys", "juguetes", "target toys", "cat toys", "toy stores", "girl toys", "water toys", "toy story", "pool toys", "sonic toys", "toy cars", "unlimited toy club", "", "pet sim x toy codes", "pet simulator x", "pet simulator x toys", "puppy chew toy perhaps crossword", "pet sim x toys", "send a text to say crossword", "water wiggle toy", "paw patrol cat pack toys", "minion toys", "unlimited toy club", "water wiggler toy", "death by toys", "roblox toy codes"]
    let cosmetics_queries = ["mac cosmetics", "mac", "it cosmetics", "thrive cosmetics", "thrive", "mac pro cosmetics", "kylie cosmetics", "ulta", "ulta cosmetics", "elf cosmetics", "elf", "jeffree star cosmetics", "jeffree star", "jaclyn cosmetics", "bh cosmetics", "benefit cosmetics", "it cosmetics cc cream", "tarte cosmetics", "tarte", "cosmetics company store", "maelys cosmetics", "cosmetic", "sephora", "lush cosmetics", "lush", "", "goat milk cream poise cosmetics", "bbl oil", "mac cosmetics c4.5 soft matte foundation stick", "averys cosmetics bbl oil", "avery cosmetics bbl oil", "farm fresh cosmetics", "avery cosmetics", "blended cosmetics", "cristal cosmetics", "gemela cosmetics karina garcia", "hsn skinn cosmetics", "skinn cosmetics", "elf cosmetics brow lift", "glamlite cosmetics", "glamlite", "jaclyn cosmetics", "jaclyn hill cosmetics", "peachy queen cosmetics", "it cosmetics bye bye breakout", "alamar cosmetics", "kab cosmetics contour palette", "crystal cosmetics", "tf2 heavy cosmetics", "it cosmetics superhero mascara", "profusion cosmetics"]
    let electronic_queries = ["electronic", "electronics", "electronics near me", "electronics store", "electronic signature", "electronics store near me", "correo", "electronic stores", "electronic recycling", "electronics recycling", "electronic stores near me", "electronic store", "electrónico", "correo electronico", "sell electronics", "walmart electronics", "electronics stores", "best buy electronics", "correo electrónico", "electronic lock", "buy electronics near me", "electronic recycling near me", "electronic repair", "home electronics", "power electronics", "", "black mass electronics", "electronic sniffing dog", "therapynotes vs drchrono electronic billing ehr software online", "4th of july electronics sales", "the e-government act promotes the use of electronic government services by the public and improves the use of information technology in the government.", "electronic cigarettes", "industrial electronics"]
    let appliance_queries = ["appliance", "appliances", "appliance repair", "appliance near me", "appliances near me", "ge", "appliance repair near me", "appliance stores", "appliance parts", "appliance store", "used appliances", "ge appliances", "home appliance", "kitchen appliances", "refrigerator", "home appliances", "appliance stores near me", "appliance service", "ge appliance", "lowes appliance", "home depot appliances", "samsung", "lowes appliances", "lg", "appliance sale", "", "july 4th appliance sales", "appliance sales 4th of july", "bluestar appliances", "july 4th appliance sales 2022", "4th of july appliance sale", "4th of july appliance sales 2022", "fourth of july appliance sales", "fourth of july appliance sales 2022", "home depot appliance sale", "lowes appliance sale", "best buy appliance sale"]
   

    let movies_200 = ["toy story", "jumanji", "grumpier old men", "waiting to exhale", "father of the bride part ii", "heat", "sabrina", "tom and huck", "sudden death", "goldeneye", "the american president", "dracula: dead and loving it", "balto", "nixon", "cutthroat island", "casino", "sense and sensibility", "four rooms", "ace ventura: when nature calls", "money train", "get shorty", "copycat", "assassins", "powder", "leaving las vegas", "othello", "now and then", "persuasion", "the city of lost children", "shanghai triad", "dangerous minds", "12 monkeys", "wings of courage", "babe", "carrington", "dead man walking", "across the sea of time", "it takes two", "clueless", "the beloved country cry", "richard iii", "dead presidents", "restoration", "mortal kombat", "to die for", "how to make an american quilt", "seven", "pocahontas", "when night is falling", "the usual suspects", "guardian angel", "mighty aphrodite", "lamerica", "the big green", "georgia", "kids of the round table", "home for the holidays", "the postman", "the confessional", "the indian in the cupboard", "eye for an eye", "mr. holland's opus", "don't be a menace to south central while drinking your juice in the hood", "two if by sea", "bio-dome", "lawnmower man 2: beyond cyberspace", "two bits", "french twist", "friday", "from dusk till dawn", "fair game", "kicking and screaming", "les misérables", "bed of roses", "big bully", "screamers", "nico icon", "the crossing guard", "the juror", "the white balloon", "things to do in denver when you're dead", "antonia's line", "once upon a time... when we were colored", "last summer in the hamptons", "angels and insects", "white squall", "dunston checks in", "black sheep", "nick of time", "the journey of august king", "mary reilly", "vampire in brooklyn", "beautiful girls", "broken arrow", "in the bleak midwinter", "la) hate", "shopping", "heidi fleiss: hollywood madam", "city hall", "bottle rocket", "mr. wrong", "unforgettable", "happy gilmore", "the bridges of madison county", "nobody loves me", "muppet treasure island", "catwalk", "headless body in topless bar", "braveheart", "taxi driver", "rumble in the bronx", "before and after", "margaret's museum", "le) happiness is in the field", "anne frank remembered", "the young poisoner's handbook", "if lucy fell", "steal little steal big", "race the sun", "the boys of st. vincent", "boomerang", "chungking express", "the star maker", "flirting with disaster", "the neverending story iii", "the silence of the palace", "jupiter's wife", "pie in the sky", "angela", "frankie starlight", "jade", "nueba yol", "sonic outlaws", "down periscope", "from the journals of jean seberg", "man of the year", "the neon bible", "target", "up close and personal", "the birdcage", "shadows", "gospa", "the brothers mcmullen", "bad boys", "the amazing panda adventure", "the basketball diaries", "an awfully big adventure", "amateur", "apollo 13", "rob roy", "the addiction", "batman forever", "belle de jour", "beyond rangoon", "blue in the face", "canadian bacon", "casper", "clockers", "congo", "crimson tide", "crumb", "desperado", "devil in a blue dress", "die hard: with a vengeance", "the doom generation", "feast of july", "first knight", "free willy 2: the adventure home", "hackers", "jeffrey", "johnny mnemonic", "judge dredd", "jury duty", "kids", "living in oblivion", "lord of illusions", "love & human remains", "mad love", "mallrats", "mighty morphin power rangers: the movie", "moonlight and valentino", "mute witness", "nadja", "the net", "nine months", "party girl", "the prophecy", "reckless", "safe", "the scarlet letter", "the show", "showgirls", "smoke", "something to talk about", "species", "the stars fell on henrietta", "strange days", "the umbrellas of cherbourg", "the tie that binds"];
    let movies_400 = ["buy three wishes", "buy total eclipse", "buy thanks for everything! julie newmar to wong foo", "buy under siege 2: dark territory", "buy unstrung heroes", "buy unzipped", "buy a walk in the clouds", "buy waterworld", "buy white man's burden", "buy wild bill", "buy the browning version", "buy bushwhacked", "buy burnt by the sun", "buy before the rain", "buy before sunrise", "buy billy madison", "buy the babysitter", "buy boys on the side", "buy the cure", "buy castle freak", "buy circle of friends", "buy clerks", "buy don juan demarco", "buy disclosure", "buy dream man", "buy drop zone", "buy destiny turns on the radio", "buy death and the maiden", "buy dolores claiborne", "buy dumb & dumber", "buy eat drink man woman", "buy exotica", "buy exit to eden", "buy ed wood", "buy french kiss", "buy forget paris", "buy far from home: the adventures of yellow dog", "buy a goofy movie", "buy hideaway", "buy fluke", "buy farinelli: il castrato", "buy gordy", "buy gumby: the movie", "buy the glass shield", "buy hoop dreams", "buy heavenly creatures", "buy houseguest", "buy immortal beloved", "buy heavyweights", "buy the hunted", "buy i.q.", "buy interview with the vampire: the vampire chronicles", "buy jefferson in paris", "buy the jerky boys", "buy junior", "buy just cause", "buy a kid in king arthur's court", "buy kiss of death", "buy star wars: episode iv - a new hope", "buy little women", "buy a little princess", "buy ladybird ladybird", "buy l' enfer", "buy like water for chocolate", "buy legends of the fall", "buy major payne", "buy little odessa", "buy my crazy life", "buy love affair", "buy losing isaiah", "buy the madness of king george", "buy frankenstein", "buy man of the house", "buy mixed nuts", "buy milk money", "buy miracle on 34th street", "buy miami rhapsody", "buy my family", "buy murder in the first", "buy nobody's fool", "buy nell", "buy new jersey drive", "buy new york cop", "buy beyond bedlam", "buy nemesis 2: nebula", "buy nina takes a lover", "buy natural born killers", "buy only you", "buy once were warriors", "buy poison ivy ii", "buy outbreak", "buy the) léon: the professional", "buy the perez family", "buy a pyromaniac's love story", "buy pulp fiction", "buy panther", "buy pushing hands", "buy priest", "buy quiz show", "buy picture bride", "buy queen margot", "buy the quick and the dead", "buy roommates", "buy ready to wear", "buy three colors: red", "buy three colors: blue", "buy three colors: white", "buy green firecracker red firecracker", "buy rent-a-kid", "buy relative fear", "buy stuart saves his family", "buy the swan princess", "buy the secret of roan inish", "buy the specialist", "buy stargate", "buy the santa clause", "buy the shawshank redemption", "buy shallow grave", "buy suture", "buy strawberry and chocolate", "buy swimming with sharks", "buy the sum of us", "buy national lampoon's senior trip", "buy to live", "buy tank girl", "buy tales from the crypt presents: demon knight", "buy star trek: generations", "buy tales from the hood", "buy tom & viv", "buy village of the damned", "buy tommy boy", "buy vanya on 42nd street", "buy underneath", "buy the walking dead", "buy what's eating gilbert grape", "buy virtuosity", "buy while you were sleeping", "buy the war", "buy double happiness", "buy muriel's wedding", "buy the baby-sitters club", "buy ace ventura: pet detective", "buy queen of the desert adventures of priscilla", "buy backbeat", "buy bitter moon", "buy bullets over broadway", "buy clear and present danger", "buy the client", "buy corrina corrina", "buy crooklyn", "buy the crow", "buy cobb", "buy the flintstones", "buy forrest gump", "buy four weddings and a funeral", "buy higher learning", "buy i like it like that", "buy i love trouble", "buy it could happen to you", "buy the jungle book", "buy horrible life of leni riefenstahl wonderful", "buy the lion king", "buy little buddha", "buy wes craven's new nightmare", "buy the mask", "buy maverick", "buy mrs. parker and the vicious circle", "buy naked gun 33 1/3: the final insult", "buy the paper", "buy reality bites", "buy red rock west", "buy richie rich", "buy safe passage", "buy the river wild", "buy speed", "buy speechless", "buy timecop", "buy true lies", "buy when a man loves a woman", "buy wolf", "buy wyatt earp", "buy bad company", "buy a man of no importance", "buy s.f.w.", "buy a low down dirty shame", "buy boys life", "buy le colonel chabert", "buy faster pussycat! kill! kill!", "buy jason's lyric", "buy the secret adventures of tom thumb", "buy street fighter", "buy coldblooded", "buy desert winds", "buy fall time", "buy the fear", "buy frank and ollie", "buy girl in the cadillac", "buy homage", "buy mirage", "buy open season"];

    // Combine all query lists and remove duplicates
//    let queries = clothing_queries.concat(gaming_queries).concat(toys_queries).concat(cosmetics_queries).concat(electronic_queries).concat(appliance_queries)

//    let queries = movies_200.concat(movies_400)
    let queries = movies_400
 //   queries = queries.filter(unique)

    let res = []
    let size = queries.length

    // Iterate through queries and execute crawlers
    for(let i=0; i<size; i++) {

        try {
            console.log(i, "/", size, queries[i])
            let crawler = get_crawler_object(queries[i])
            let item = await crawler.handle_query()
            res.push(item)               
            await new Promise(r => setTimeout(r, 2000));
        }
        catch(e) {
            console.log("error in ", queries[i])
            console.log(e)
            continue
        }
    }    

    // Write search results to JSON file
    try{
        let jsonString = JSON.stringify(res)
        fs.writeFile(get_result_file_name(), jsonString, err => {
            if (err) {
                console.log('Error writing file', err)
            } else { 
                console.log('Successfully wrote file')
            }
        })    
    }
    catch(e) {
        console.log("couldn't write json")
        console.log(e)
    }


})();


